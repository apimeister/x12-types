use super::*;

#[test]
fn parse_837() {
    //source: https://www.texaschildrenshealthplan.org/sites/default/files/pdf/5010_X12_837P_Professional_CompGuide_V1.1.pdf
    let str = r#"ISA*00* *00* *ZZ*133052274 *ZZ*TXCSM0001 *160308*2119*^*00501*000005555*0*P*:~
GS*HC*133052274*TXCSM0001*20160308*211916*5555*X*005010X222A1~
ST*837*000000055*005010X222A1~
BHT*0001*00*00011111*20160308*211916*CH~
NM1*41*2*SUBMITTER ABC*****46*111111111~
PER*IC*EMDEON CUSTOMER SOLUTIONS*TE*8008456592~
NM1*40*2*RECEIVER ABC*****46*TXCSM0001~
HL*1**20*1~
PRV*BI*PXC*208000000X~
NM1*85*2*BILLING NAME ABC*****XX*1111111111~
N3*11111 NO NAME ROAD~
N4*HOUSTON*TX*770744336~
REF*EI*111111111~
HL*2*1*22*0~
SBR*P*18*******MC~
NM1*IL*1*LASTNAME*FIRST****MI*111111111~
N3*ADDRESSLINE ONE~
N4*HOUSTON*TX*770744336~
DMG*D8*11111111*M~
NM1*PR*2*TEXAS CHILDRENS WELL*****PI*TXCSM~
CLM*1111111111*210.01***11:B:1*Y*A*Y*Y~
REF*D9*11111111111111~
HI*ABK:Z00129~
NM1*77*2*FACILITY ABC*****XX*1111111111~
N3*11111 NO NAME ROAD~
N4*HOUSTON*TX*770744336~
LX*1~
SV1*HC:99392:AM:25*150*UN*1***1~
DTP*472*D8*20160307~
REF*6R*1~
LX*2~
SV1*HC:96110:U6*20*UN*1***1~
DTP*472*D8*20160307~
REF*6R*2~
LX*3~
SV1*HC:90633*.01*UN*1***1~
DTP*472*D8*20160307~
REF*6R*3~
LX*4~
SV1*HC:90460*40*UN*1***1~
DTP*472*D8*20160307~
REF*6R*4~
SE*41*000000055~
GE*1*5555~
IEA*1*000005555~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_2() {
    //source: https://www.texaschildrenshealthplan.org/sites/default/files/pdf/5010_X12_837P_Professional_CompGuide_V1.1.pdf
    let str = r#"ISA*00* *00* *ZZ*133052274 *ZZ*752280001 *160527*2139*^*00501*000004444*0*P*:~
GS*HC*133052274*752280001*20160527*213905*4444*X*005010X222A1~
ST*837*000000044*005010X222A1~
BHT*0001*00*00018091A*20160527*213905*CH~
NM1*41*2*SUBMITTER ABC*****46*111111111~
PER*IC*EMDEON CUSTOMER SOLUTIONS*TE*8008456592~
NM1*40*2*RECEIVER ABC*****46*TXCSM0001~
HL*1**20*1~
PRV*BI*PXC*208D00000X~
NM1*85*BILLINGNAME*FIRST*M***XX*1111111111~
N3*11111 NO NAME ROAD~
N4*HOUSTON*TX*770744336~
REF*EI*111111111~
PER*IC*BILLINGCONTACT*TE*8321111111~
HL*2*1*22*0~
SBR*P*18**MEDICAID OF TX*****CI~
NM1*IL*1*LASTNAME*FIRST*M***M111111111~
N3*11111 NO NAME ROAD~
N4*HOUSTON*TX*770744336~
DMG*D8*11111111*M~
NM1*PR*2*TCHPCHIP 76048*****PI*75228~
CLM*1111111111*292***11:B:1*Y*A*Y*Y~
REF*D9*111111111111111~
HI*ABK:Z00129*ABF:J309*ABF:J029~
LX*1~
SV1*HC:87880:QW*22*UN*1***1:2:3~
DTP*472*D8*20160525~
REF*6R*1~
NTE*ADD*207R00000X~
LX*2~
SV1*HC:99392:AM*100*UN*1***1:2:3~
DTP*472*D8*20160525~
REF*6R*2~
NTE*ADD*207R00000X~
LX*3~
SV1*HC:99213:25*150*UN*1***1:2:3~
DTP*472*D8*20160525~
REF*6R*3~
NTE*ADD*207R00000X~
LX*4~
SV1*HC:96110:U6*20*UN*1***1:2:3~
DTP*472*D8*20160525~
REF*6R*4~
NTE*ADD*207R00000X~
SE*43*0000000044~
GE*1*4444~
IEA*1*000004444~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_3() {
    //source: https://support.edifabric.com/hc/en-us/articles/360000369472-HIPAA-5010-837P-Professional-Claim
    let str = r#"ISA*00*          *00*          *ZZ*1234567        *ZZ*11111          *170508*1141*^*00501*000000101*1*P*:~
GS*HC*XXXXXXX*XXXXX*20170617*1741*101*X*005010X222A1~
ST*837*1239*005010X222A1~
BHT*0019*00*010*20170617*1741*CH~
NM1*41*2*SUBMITTER*****46*ABC123~
PER*IC*BOB SMITH*TE*4805551212~
NM1*40*2*RECEIVER*****46*44556~
HL*1**20*1~
NM1*85*2*BILLING PROVIDER*****XX*1122334455~
N3*1234 SOME ROAD~
N4*CHICAGO*IL*606739999~
REF*EI*999999999~
HL*2*1*22*0~
SBR*P*18*******12~
NM1*IL*1*BLOGGS*JOE****MI*1234567890~
N3*1 SOME BLVD~
N4*CHICAGO*IL*606129998~
DMG*D8*19570111*M~
NM1*PR*2*PAYER*****PI*12345~
N3*1 PAYER WAY~
N4*ST LOUIS*MO*212441850~
REF*2U*W1014~
CLM*1000A*140***19:B:1*Y*A*Y*Y~
HI*ABK:I10~
LX*1~
SV1*HC:99213*140*UN*1***1~
DTP*472*D8*20151124~
HL*3*1*22*0~
SBR*P*18*******12~
NM1*IL*1*BLOGGS*FRED****MI*9876543201~
N3*1 ANOTHER STR~
N4*CHICAGO*IL*606129998~
DMG*D8*19700601*M~
NM1*PR*2*PAYER*****PI*12345~
N3*1 PAYER WAY~
N4*ST LOUIS*MO*212441850~
REF*2U*W1014~
CLM*1001A*140***19:B:1*Y*A*Y*Y~
HI*ABK:I10~
LX*1~
SV1*HC:99213*140*UN*1***1~
DTP*472*D8*20151124~
SE*41*1239~
GE*1*101~
IEA*1*000000101~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_4() {
    //source: https://www.apex-healthsolutions.com/-/media/project/summacare/website/document-library/apex/837-5010-professional-companion-guide.pdf?la=en
    let str = r#"ST*837*000000001*005010X222~
BHT*0019*00*000000001*20170715*0939*CH~
NM1*41*2*CLEARINGHOUSE*****46*999999999~
PER*IC*CLEARINGHOUSE*TE*8005555555~
NM1*40*2*APEX*****46*34196~
HL*1**20*1~
NM1*85*2*SMITHS FAMILY PRACTICE*****XX*1234567890~
N3*123 MEDCENTER DRIVE~
N4*AKRON*OH*44308~
REF*EI*111223333~
PER*IC*SMITHS FAMILY PRACTICE*TE*3305555555~
HL*2*1*22*1~
SBR*P**V99999******CI~
NM1*IL*1*DOE*JONATHAN****MI*98765432100~
DMG*D8*19740405*M~
NM1*PR*2*APEX*****PI*34196~
HL*3*2*23*0~
PAT*19~
NM1*QC*1*DOE*JOHNNY****MI*98765432102~
N3*100 PATIENT RD~
N4*AKRON*OH*44308~
DMG*D8*20021028*M~
CLM*0027833*50***22::1*Y*A*Y*Y*C~
REF*D9*01234567890~
HI*ABK:R509~
NM1*82*1*SMITH*JOEL*C**DO*XX*9876543210~
REF*EI*44455666~
NM1*77*2*SUMMA HEALTH SYSTEMS*****XX*1234567890~
N3*123 SUMMA DRIVE~
N4*AKRON*OH*44308~
LX*1~
SV1*HC:34196*50*UN*1***1~
DTP*472*D8*20170715~
SE*35*000000001~"#;
    let (rest, obj) = _837::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_5() {
    //source: https://www.apex-healthsolutions.com/-/media/project/summacare/website/document-library/apex/837-5010-professional-companion-guide.pdf?la=en
    let str = r#"ST*837*0001*005010X222~
BHT*0019*00*1*20170715*08280000*CH~
NM1*41*2*SUGARHILL BILLING SERVICE*****46*00123~
PER*IC*TECHNOLOGY SUPPORT CENTER*TE*3305554321~
NM1*40*2*MULBERRY HEALTH SYSTEM*****46*441XX234~
HL*1**20*1~
NM1*85*2*JACK SPRAT INC*****XX*300300123~
N3*PO BOX 1687~
N4*FOREST HILL*OH*441234107~
REF*1C*0123456789~
PER*IC* BARBIE*TE*2165552020~
HL*2*1*22*0~
SBR*S*18*731062******ZZ~
NM1*IL*1*GREEN*MARY****MI*98799432100~
N3*1506 MAGIC DR~
N4*AKRON*OH*44308~
DMG*D8*19220101*F~
REF*IG*012345678D~
NM1*PR*2*ABC HEALTH PLAN*****PI*44123C123~
N3*17 TECHNOLOGY~
N4*COLUMBIA*SC*29219~
CLM*TV12345678987654*59.28***12::1*Y*A*Y*Y*C~
REF*F5*N~
HI*ABK:R509~
NM1*82*2*LINUS INC*****XX*300300123~
REF*1C*0123456789~
SBR*P*18***MB****MB~
AMT*D*24.46~
AMT*AAE*30.57~
AMT*B6*30.57~
DMG*D8*19220101*F~
OI***Y*C**Y~
NM1*IL*1*GREEN*MARY****MI*270123456D~
N3*1506 MAGIC DR~
N4*AKRON*OH*443081234~
NM1*PR*2*XYZ HEALTH PLAN, INC *****PI*00123~
PER*IC*COORDINATION OF BENEFITS*TE*8885551105*FX*8885550008~
REF*F8*0123456789000~
NM1*82*2~
REF*1C*1234567890~
LX*1~
SV1*HC:E0434:RR*59.28*UN*1*12**1~
DTP*472*D8*20170715~
AMT*AAE*30.57~
NM1*DK*1*JOHNSON*DAVID~
N3*2400 MONTY RD~
N4*NORFOLK*VA*245510687~
REF*1G*B01234~
SVD*00123*24.46*HC:E0434:RR**1~
CAS*CO*96*28.71~
CAS*PR*2*6.11~
DTP*573*D8*20170715~
SE*54*0001~
GE*1*1~
IEA*1*000000001~"#;
    let (rest, obj) = _837::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_6() {
    //source: https://github.com/EdiFabric/X12.NET/blob/master/Files/HIPAA/ClaimPayment.txt
    let str = r#"ISA*00*          *00*          *ZZ*1234567        *ZZ*11111          *170508*1141*^*00501*000000101*1*P*:~
GS*HC*XXXXXXX*XXXXX*20170617*1741*101*X*005010X222A1~
ST*837*0021*005010X222A1~
BHT*0019*00*244579*20061015*1023*CH~
NM1*41*2*PREMIER BILLING SERVICE*****46*TGJ23~
PER*IC*JERRY*TE*3055552222*EX*231~
NM1*40*2*KEY INSURANCE COMPANY*****46*66783JJT~
HL*1**20*1~
PRV*BI*PXC*203BF0100Y~
NM1*85*2*BEN KILDARE SERVICE*****XX*9876543210~
N3*234 SEAWAY ST~
N4*MIAMI*FL*33111~
REF*EI*587654321~
NM1*87*2*Kildare Associates~
N3*2345 OCEAN BLVD~
N4*MIAMI*FL*33111~
HL*2*1*22*1~
SBR*P**2222-SJ******CI~
NM1*IL*1*SMITH*JANE****MI*JS00111223333~
DMG*D8*19430501*F~
NM1*PR*2*KEY INSURANCE COMPANY*****PI*999996666~
REF*G2*KA6663~
HL*3*2*23*0~
PAT*19~
NM1*QC*1*SMITH*TED~
N3*236 N MAIN ST~
N4*MIAMI*FL*33413~
DMG*D8*19730501*M~
CLM*26463774*100***11:B:1*Y*A*Y*I~
REF*D9*17312345600006351~
HI*BK:0340*BF:V7389~
LX*1~
SV1*HC:99213*40*UN*1***1~
DTP*472*D8*20061003~
LX*2~
SV1*HC:87070*15*UN*1***1~
DTP*472*D8*20061003~
LX*3~
SV1*HC:99214*35*UN*1***2~
DTP*472*D8*20061010~
LX*4~
SV1*HC:86663*10*UN*1***2~
DTP*472*D8*20061010~
SE*42*0021~
GE*1*101~
IEA*1*000000101~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_7() {
    //source: https://github.com/EdiFabric/X12.NET/blob/master/Files/HIPAA/ClaimPaymentEVV.txt
    let str = r#"ISA*00*          *00*          *ZZ*1234567        *ZZ*11111          *170508*1141*^*00501*000000101*1*P*:~
GS*HC*XXXXXXX*XXXXX*20170617*1741*101*X*005010X222A1~
ST*837*0021*005010X222A1~
BHT*0019*00*244579*20061015*1023*CH~
NM1*41*2*PREMIER BILLING SERVICE*****46*TGJ23~
PER*IC*JERRY*TE*3055552222*EX*231~
NM1*40*2*KEY INSURANCE COMPANY*****46*66783JJT~
HL*1**20*1~
PRV*BI*PXC*203BF0100Y~
NM1*85*2*BEN KILDARE SERVICE*****XX*9876543210~
N3*234 SEAWAY ST~
N4*MIAMI*FL*33111~
REF*EI*587654321~
NM1*87*2*Kildare Associates~
N3*2345 OCEAN BLVD~
N4*MIAMI*FL*33111~
HL*2*1*22*1~
SBR*P**2222-SJ******CI~
NM1*IL*1*SOLO*HANS*RYAN***MI*123456789012~
DMG*D8*19430501*F~
NM1*PR*2*KEY INSURANCE COMPANY*****PI*999996666~
REF*G2*KA6663~
HL*3*2*23*0~
PAT*19~
NM1*QC*1*SMITH*TED~
N3*236 N MAIN ST~
N4*MIAMI*FL*33413~
DMG*D8*19730501*M~
CLM*26463774*100***11:B:1*Y*A*Y*I~
REF*D9*17312345600006351~
HI*BK:0340*BF:V7389~
LX*1~
SV1*HC:S5135:::::1230-1630*50*UN*2*11**1~
DTP*472*RD8*20160302-20160302~
NM1*DQ*1*JONES*DEVIL~
REF*LU*1234567890~
NM1*PW*2~
N3*2777 HOOCH LANE*APT 2005~
N4*CLARICE*VA*22554~
NM1*45*2~
N3*4545 RETURN ST~
N4*NUCHOL*VA*22554~
SE*41*0021~
GE*1*101~
IEA*1*000000101~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_8() {
    //source: https://github.com/EdiFabric/X12.NET/blob/master/Files/HIPAA/DentalClaim.txt
    let str = r#"ISA*00*          *00*          *ZZ*1234567        *ZZ*11111          *170508*1141*^*00501*000000101*1*P*:~
GS*HC*XXXXXXX*XXXXX*20170617*1741*101*X*005010X224A2~
ST*837*3456*005010X224A2~
BHT*0019*00*0123*20061123*1023*CH~
NM1*41*2*PREMIER BILLING SERVICE*****46*TGJ23~
PER*IC*JERRY*TE*7176149999~
NM1*40*2*INSURANCE COMPANY XYZ*****46*66783JJT~
HL*1**20*1~
NM1*85*2*DENTAL ASSOCIATES*****XX*1234567890~
N3*234 SEAWAY ST~
N4*MIAMI*FL*33111~
REF*EI*587654321~
HL*2*1*22*1~
SBR*P********CI~
NM1*IL*1*SMITH*JANE****MI*111223333~
NM1*PR*2*INSURANCE COMPANY XYZ*****PI*66783JJT~
HL*3*2*23*0~
PAT*19~
NM1*QC*1*SMITH*TED~
N3*236 N MAIN ST~
N4*MIAMI*FL*33413~
DMG*D8*19920501*M~
CLM*26403774*150***11:B:1*Y*A*Y*I~
DTP*472*D8*20061029~
REF*D9*17312345600006351~
NM1*82*1*KILDARE*BEN****XX*9876543210~
PRV*PE*PXC*1223G0001X~
LX*1~
SV3*AD:D2150*100****1~
TOO*JP*12*M:O~
LX*2~
SV3*AD:D1110*50****1~
SE*31*3456~
GE*1*101~
IEA*1*000000101~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

// #[test]
// fn parse_837_9() {
//     //source: https://github.com/EdiFabric/X12.NET/blob/master/Files/HIPAA/InstitutionalClaim.txt
//     let str = r#"ISA*00*          *00*          *ZZ*1234567        *ZZ*11111          *170508*1141*^*00501*000000101*1*P*:~
// GS*HC*XXXXXXX*XXXXX*20170617*1741*101*X*005010X223A2~
// ST*837*987654*005010X223A2~
// BHT*0019*00*0123*19960918*0932*CH~
// NM1*41*2*JONES HOSPITAL*****46*12345~
// PER*IC*JANE DOE*TE*9005555555~
// NM1*40*2*MEDICARE*****46*00120~
// HL*1**20*1~
// PRV*BI*PXC*203BA0200N~
// NM1*85*2*JONES HOSPITAL*****XX*9876540809~
// N3*225 MAIN STREET BARKLEY BUILDING~
// N4*CENTERVILLE*PA*17111~
// REF*EI*567891234~
// PER*IC*CONNIE*TE*3055551234~
// HL*2*1*22*0~
// SBR*P*18*******MB~
// NM1*IL*1*DOE*JOHN*T***MI*030005074A~
// N3*125 CITY AVENUE~
// N4*CENTERVILLE*PA*17111~
// DMG*D8*19261111*M~
// NM1*PR*2*MEDICARE B*****PI*00435~
// REF*G2*330127~
// CLM*756048Q*89.93**14:A:1*A*Y*Y~
// DTP*434*RD8*19960911~
// CL1*3**01~
// HI*BK:3669~
// HI*BF:4019*BF:79431~
// HI*BH:A1:D8:19261111*BH:A2:D8:19911101*BH:B1:D8:19261111*BH:B2:D8:19870101~
// HI*BE:A2:::15.31~
// HI*BG:09~
// NM1*71*1*JONES*JOHN*J~
// REF*1G*B99937~
// SBR*S*01*351630*STATE TEACHERS*****CI~
// OI***Y***Y~
// NM1*IL*1*DOE*JANE*S***MI*222004433~
// N3*125 CITY AVENUE~
// N4*CENTERVILLE*PA*17111~
// NM1*PR*2*STATE TEACHERS*****PI*1135~
// LX*1~
// SV2*0305*HC:85025*13.39*UN*1~
// DTP*472*D8*19960911~
// LX*2~
// SV2*0730*HC:93005*76.54*UN*3~
// DTP*472*D8*19960911~
// SE*43*987654~
// GE*1*101~
// IEA*1*000000101~"#;
//     let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
//     println!("{rest}");
//     println!("{obj:?}");
// }

#[test]
fn parse_837_10() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837/X291-home-infusion-therapy-pharmacy-adjudicated-with-NDC-in-loop-2410.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0711*005010X291~BHT*0019*00*0013*20040301*1200*CH~NM1*41*2*Quality Billing Service Corporation*****46*587654321~PER*IC*Bud Holly*TE*8017268899~NM1*40*2*XYZ Receiver*****46*369852758~HL*1**20*1~NM1*85*2*Professional Home IV, LLC*****XX*1234567893~N3*1500 Industrial Drive~N4*Libertyville*IL*60048~REF*EI*10-1234567~PER*IC*Brenda Holly*TE*8019999999~HL*2*1*22*0~SBR*P*18*GRP01020102******CI~NM1*IL*1*Smith*Steve*A***MI*MBRID01234~N3*15210 Juliet Lane~N4*Libertyville*IL*60048~DMG*D8*19430501*M~NM1*PR*2*R&R Health Plan*****XV*PLANID12345~CLM*CLMNO12345*2232.93***12:B:1*Y*A*Y*Y**********08~HI*BK:4659~LX*1~SV1*HC:S9500*1400.00*UN*7*12**1~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*2~SV1*HC:S5001*682.50*UN*7*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*00004196501~CTP****7*UN~REF*XZ*2530001~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*3~SV1*HC:S5000*15.12*UN*14*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*63323024910~CTP****14*UN~REF*XZ*2530001~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*4~SV1*HC:S5000*67.69*UN*7*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*00338004938~CTP****7*UN~REF*XZ*2530001~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*5~SV1*HC:S5000*57.12*UN*14*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*08290033010~CTP****14*UN~REF*XZ*2530002~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*6~SV1*HC:S5000*10.50*UN*7*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*08290038005~CTP****7*UN~REF*XZ*2530003~NM1*DK*1*Welby*Marcus****XX*1112223338~SE*64*0711~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_11() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837/X291-oxygen.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0001*005010X291~BHT*0019*00*16*20050326*1036*CH~NM1*41*2*OXYGEN SUPPLY COMPANY*****46*ABC11111~PER*IC*BONNIE*TE*8125551111*EM*HELPDESK@OXYGEN.COM~NM1*40*2*DMERC CARRIER*****46*99999~HL*1**20*1~NM1*85*2*OXYGEN SUPPLY COMPANY*****XX*9992233334~N3*1800 EAST RIDGE DRIVE~N4*RICHMOND*IN*46224~REF*EI*389999999~HL*2*1*22*0~SBR*P*18*******MB~NM1*IL*1*SMITH*TERRY****MI*111222333A~N3*121 SOUTH ST~N4*RICHMOND*IN*46236~DMG*D8*19380105*F~NM1*PR*2*DMERC CARRIER*****PI*99999~CLM*R03996273 #01*520.24***11:B:1*Y*A*Y*Y**********08~HI*BK:496*BF:51881*BF:2859~LX*1~SV1*HC:E1390:RR*461.1*UN*1***1:2~PWK*CT*AD~CR3*R*MO*99~DTP*607*D8*20050321~DTP*463*D8*20040321~DTP*461*D8*20050301~NM1*DK*1*WILSON*LARRY****XX*5555511111~N3*1212 NORTH MERIDIAN~N4*RICHMOND*IN*46223~REF*1G*X99999~PER*IC*LEE*TE*5554446666~LQ*UT*04.03~FRM*1A**056~FRM*1C**20050228~FRM*2**1~FRM*3**1~FRM*4*Y~FRM*5**2~FRM*7*Y~FRM*8*N~FRM*9*Y~LX*2~SV1*HC:E0431:RR*59.14*UN*1***1:2~PWK*CT*AD~CR3*R*MO*99~DTP*607*D8*20050321~DTP*463*D8*20040321~DTP*461*D8*20050301~NM1*DK*1*WILSON*LARRY****XX*5555511111~N3*1212 NORTH MERIDIAN~N4*RICHMOND*IN*46223~REF*1G*X99999~PER*IC*LEE*TE*5554446666~LQ*UT*04.03~FRM*1A**056~FRM*1C**20050228~FRM*2**1~FRM*3**1~FRM*4*Y~FRM*5**2~FRM*7*Y~FRM*8*N~FRM*9*Y~SE*64*0001~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_12() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837/X291-ppo-repriced-claim.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*1002*005010X291~BHT*0019*00*1002*20050620*09460000*CH~NM1*41*2*REGIONAL PPO NETWORK*****46*123456789~PER*IC*SUBMITTER CONTACT INFO*TE*8001231234~NM1*40*2*EXTRA HEALTHY INSURANCE*****46*112244~HL*1**20*1~NM1*85*2*HAPPY DOCTORS GROUP PRACTICE*****XX*1234567890~N3*P O BOX 123~N4*FORT WAYNE*IN*462540000~REF*EI*555512345~PER*IC*SUE BILLINGSWORTH*TE*8881231234~HL*2*1*22*0~SBR*P*18*123XYZ******CI~NM1*IL*1*RING*DIAMOND*D***MI*00124A089~N3*123 EXAMPLE DRIVE~N4*INDIANAPOLIS*IN*462290000~DMG*D8*19401229*F~NM1*PR*2*EXTRA HEALTHY INSURANCE*****PI*12345~CLM*ABC123-RI*28.75***11:B:1*Y*A*Y*Y*P*********08~REF*9A*0902352342~REF*D9*061505501749388~HI*BK:496*BF:25000~HCP*03*26.75*2*908231234~NM1*DN*1*DOE*JOHN****XX*9988776655~NM1*82*1*ANTHONY*SUSAN*B***XX*1122334455~NM1*77*2*HAPPY DOCTORS GROUP~N3*123 FEEL GOOD ROAD~N4*WASHINGTON*IN*475010000~LX*1~SV1*HC:E0570:RR*25*UN*1***1:2~HCP*03*23.75*1.25*908231234~LX*2~SV1*HC:A7003:NU*3.75*UN*1***1~HCP*03*3*.75*908231234~SE*35*1002~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_13() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837/X291-wheelchair.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*112233*005010X291~BHT*0019*00*16*20050326*1036*CH~NM1*41*2*XYZ WHEELCHAIRS INC*****46*ABC55~PER*IC*JANE*TE*2225551111~NM1*40*2*DMERC CARRIER*****46*99999~HL*1**20*1~NM1*85*2*XYZ WHEELCHAIR INC*****XX*7778889999~N3*1440 NORTH STREET~N4*LAFAYETTE*IN*47904~REF*EI*123567989~REF*1G*0426960001~HL*2*1*22*0~SBR*P*18*******MB~PAT*******01*155~NM1*IL*1*SMITH*JAMES****MI*987654321A~N3*12 MAIN ST~N4*FRANKFORT*IN*46209~DMG*D8*19201023*M~NM1*PR*2*DMERC CARRIER*****PI*99999~CLM*SMI123*75***12:B:1*Y*A*Y*Y**********08~HI*BK:436*BF:3449~LX*1~SV1*HC:K0001:RR:KH:BR*75*UN*1***1:2~PWK*CT*AD~CR3*I*MO*99~DTP*463*D8*20040321~DTP*461*D8*20050321~MEA*TR*HT*70~NM1*DK*1*WILSON*RANDALL****XX*1111155555~N3*1226 WEST RAILROAD STREET~N4*LAFAYETTE*IN*47905~PER*IC*LEE*TE*7659259999~LQ*UT*02.03B~FRM*1*Y~FRM*2*N~FRM*3*N~FRM*4*N~FRM*5**8~FRM*8*N~FRM*9*Y~SE*41*112233~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_14() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837/X298-pacdr-professional-external-example.edi
    let str = r#"ISA*00*          *00*          *33*123456789123456*30*987654321987654*160101*0001*>*00501*012345678*0*T*:~GS*HC*123*456*20160101*0001*123456789*X*005010X298~ST*837*0021*005010X298~BHT*0019*00*244579*20120315*1023*RP~NM1*41*2*ABC PLAN*****46*TGJ23~PER*IC*IT GROUP*TE*3055552222*EX*231~NM1*40*2*REPORTING ENTITY*****46*66783JJT~HL*1**20*1~PRV*BI*PXC*207Q00000X~NM1*85*2*PHYSICIAN CLINIC*****XX*9876543210~N3*234 SEAWAY ST~N4*MIAMI*FL*33111~REF*EI*587654321~HL*2*1*22*1~SBR*N~NM1*IL*1*SMITH*JANE****MI*JS00111223333~N3*236 N MAIN ST~N4*MIAMI*FL*33413~DMG*D8*19430501*F~NM1*ZD*2*DATA RECEIVER~HL*3*2*23*0~PAT*19~NM1*QC*1*SMITH*TED****MI*JS00111224444~N3*236 N MAIN ST~N4*MIAMI*FL*33413~DMG*D8*19730501*M~CLM*26463774*100***11:B:1~REF*F8*20121092600001~HI*ABK:M25375*ABF:M19072~NM1*82*1*JONES*BARNABY****XX*1234567890~NM1*77*2*PHYSICIAN CLINIC*****XX*9876543210~N3*234 SEAWAY ST~N4*MIAMI*FL*33111~SBR*P*19*2222-SJ***6***CI~AMT*D*75~NM1*IL*1*SMITH*JANE****MI*JS00111223333~N3*236 N MAIN ST~N4*MIAMI*FL*33413~NM1*PR*2*ABC PLAN*****PI*59999~DTP*573*D8*20120314~REF*F8*20121092600001~NM1*QC*1*SMITH*TED****MI*JS00111224444~N3*236 N MAIN ST~N4*MIAMI*FL*33413~LX*1~SV1*HC:99213*100*UN*1*11**1**Y**Y*Y~DTP*472*D8*20120204~SVD*59999*75*HC:99213**1~CAS*CO*45*25~DTP*573*D8*20120314~SE*49*0021~GE*1*123456789~IEA*1*012345678~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_15() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837I/X223-837-institutional-claim.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*080503*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20080503*1705*20213*X*005010X223A2~ST*837*987654*005010X223A2~BHT*0019*00*0123*19960918*0932*CH~NM1*41*2*JONES HOSPITAL*****46*12345~PER*IC*JANE DOE*TE*9005555555~NM1*40*2*MEDICARE*****46*00120~HL*1**20*1~PRV*BI*PXC*203BA0200N~NM1*85*2*JONES HOSPITAL*****XX*9876540809~N3*225 MAIN STREET BARKLEY BUILDING~N4*CENTERVILLE*PA*17111~REF*EI*567891234~HL*2*1*22*0~SBR*P*18*******MB~NM1*IL*1*DOE*JOHN*T***MI*030005074A~N3*125 CITY AVENUE~N4*CENTERVILLE*PA*17111~DMG*D8*19261111*M~NM1*PR*2*MEDICARE B*****PI*00435~REF*G2*330127~CLM*756048Q*89.93***14:A:1**A*Y*Y~DTP*434*RD8*19960911~CL1*3**01~HI*BK:3669~HI*BF:4019*BF:79431~HI*BH:A1:D8:19261111*BH:A2:D8:19911101*BH:B1:D8:19261111*BH:B2:D8:19870101~HI*BE:A2:::15.31~HI*BG:09~NM1*71*1*JONES*JOHN*J~REF*1G*B99937~SBR*S*01*351630*STATE TEACHERS*****CI~OI***Y***Y~NM1*IL*1*DOE*JANE*S***MI*222004433~N3*125 CITY AVENUE~N4*CENTERVILLE*PA*17111~NM1*PR*2*STATE TEACHERS*****PI*1135~LX*1~SV2*0305*HC:85025*13.39*UN*1~DTP*472*D8*19960911~LX*2~SV2*0730*HC:93005*76.54*UN*3~DTP*472*D8*19960911~SE*42*987654~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_16() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837I/X223-automobile-accident.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*080503*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20080503*1705*20213*X*005010X223A2~ST*837*557766*005010X223A2~BHT*0019*00*0324*20051111*1800*CH~NM1*41*2*HALL OF FAME MEMORIAL HOSPITAL*****46*737373737~PER*IC*kate casey*TE*7152569877~NM1*40*2*HEISMAN INSURANCE COMPANY*****46*999888777~HL*1**20*1~PRV*BI*PXC*203BA0200N~NM1*85*2*HALL OF FAME MEMORIAL HOSPITAL*****XX*2365259638~N3*1 CANTON ROAD~N4*BROKEN FIELD*CA*99998~REF*EI*737373737~HL*2*1*22*1~SBR*P********AM~NM1*IL*1*HOWLING*HAL****MI*B999777791G~NM1*PR*2*HEISMAN INSURANCE COMPANY*****PI*999888777~HL*3*2*23*0~PAT*21~NM1*QC*1*MEXICO*RON~N3*32 BUFFALO RUN~N4*ROCKING HORSE*CA*99666~DMG*D8*19480601*M~REF*Y4*32323232~CLM*67236695521*545***13:A:1**A*Y*Y~DTP*434*RD8*20051031-20051101~CL1*3*7*1~REF*LU*CA~HI*BK:8842~HI*PR:8842~HI*BN:E9750*BN:E9860~NM1*71*1*LOMBARDO*VINCENT****XX*2533698543~LX*1~SV2*0450*HC:98765*150*UN*1~DTP*472*D8*20051031~LX*2~SV2*0360*HC:26591*75*UN*1~DTP*472*D8*20051031~LX*3~SV2*0312*HC:86225*100*UN*2~DTP*472*D8*20051031~LX*4~SV2*0360*HC:99283*220*UN*1~DTP*472*D8*20051031~SE*43*557766~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_17() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837I/X223-out-of-network-repriced-claim.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*080503*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20080503*1705*20213*X*005010X223A2~ST*837*1024*005010X223A2~BHT*0019*00*1024*20050711*1335*CH~NM1*41*2*REGIONAL PPO NETWORK*****46*123456789~PER*IC*SUBMITTER CONTACT INFO*TE*8001231234~NM1*40*2*CONSERVATIVE INSURANCE*****46*000110002~HL*1**20*1~NM1*85*2*LOCAL HOSPITAL*****XX*1122334455~N3*3423 SMALL STREET~N4*COLUMBUS*OH*432150000~REF*EI*111002222~HL*2*1*22*0~SBR*P*18*34561W******CI~NM1*IL*1*SMITH*JAMES*A***MI*34902390F~N3*934 NORTH STREET~N4*COLUMBUS*OH*432150000~DMG*D8*19621015*M~NM1*PR*2*CONSERVATIVE INSURANCE*****PI*00123~CLM*W392-49141*14.84***13:A:1**A*Y*Y~DTP*434*RD8*20050617-20050617~DTP*435*DT*200506170800~CL1*1*1*01~AMT*F3*14.84~REF*9A*459804390823~REF*D9*32423466233~HI*BK:53081~HCP*00*0**333001234*********T1~NM1*71*1*RIVERS*DAWN****XX*2244224455~LX*1~SV2*0301*HC:82270*14.84*UN*1~DTP*472*D8*20050617~SE*31*1024~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_18() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837I/X223-ppo-repriced-claim.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*080503*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20080503*1705*20213*X*005010X223A2~ST*837*1002*005010X223A2~BHT*0019*00*1002*20050721*09460000*CH~NM1*41*2*REGIONAL PPO NETWORK*****46*123456789~PER*IC*SUBMITTER CONTACT INFO*TE*8001231234~NM1*40*2*LOCAL INSURANCE COMPANY*****46*54334452~HL*1**20*1~NM1*85*2*GOOD HEALTH HOSPITAL*****XX*1257234346~N3*592 NORTH ELM STREET~N4*EDGEWOOD*AZ*860015590~REF*EI*344232321~HL*2*1*22*1~SBR*P**46522567AW******CI~NM1*IL*1*JONES*JENNY****MI*345U8423H~N3*4512 WEST AVENUE~N4*EVANSVILLE*AZ*863030000~DMG*D8*19690731*F~NM1*PR*2*LOCAL INSURANCE COMPANY*****PI*7452723~HL*3*2*23*0~PAT*19~NM1*QC*1*JONES*JOY~N3*4512 WEST AVENUE~N4*EVANSVILLE*AZ*863030000~DMG*D8*19980820*F~CLM*456DFH43*237.5***13:A:1**A*Y*Y~DTP*434*RD8*20050706-20050706~DTP*435*DT*200507060800~CL1*1*2*01~AMT*F3*237.5~REF*9A*09459034092~REF*D9*04566877634343456~HI*BK:38181~HI*BF:38900~HI*BH:11:D8:20050706~HCP*03*182.88*54.62*123456789~NM1*71*1*JOHNSON*SIMON****XX*5544332211~SBR*S*19**T&T PLUMBING COMPANY*****CI~OI***Y***Y~NM1*IL*1*JONES*GEORGE****MI*56454566~NM1*PR*2*OTHER COVERAGE COMPANY*****PI*534524~LX*1~SV2*0471*HC:92557*178*UN*1~DTP*472*D8*20050706~HCP*03*137.06*40.94~LX*2~SV2*0471*HC:92567*59.5*UN*1~DTP*472*D8*20050706~HCP*03*45.82*13.68~SE*48*1002~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_19() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837I/X223-two-claims-for-the-same-provider.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*080503*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20080503*1705*20213*X*005010X223A2~ST*837*987654*005010X223A2~BHT*0019*00*0123*20050630*0932*CH~NM1*41*2*JONES HOSPITAL*****46*12345~PER*IC*JANE DOE*TE*1112223333~NM1*40*2*TRICARE*****46*99999~HL*1**20*1~PRV*BI*PXC*282N00000X~NM1*85*2*JONES HOSPITAL*****XX*1234567890~N3*225 MAIN STREET~N4*ANYWHERE*PA*17111~REF*EI*123456789~HL*2*1*22*0~SBR*P*18*******CH~NM1*IL*1*DOE*JOHN*T***MI*030005074~N3*125 CITY AVENUE~N4*ANYWHERE*PA*17111~DMG*D8*19681111*M~NM1*PR*2*TRICARE*****PI*99999~CLM*756048Q*89.95***13:A:1**C*Y*Y~DTP*434*RD8*20050315-20050315~CL1*1**01~HI*BK:3669~HI*BF:4019*BF:79431~NM1*71*1*JONES*JOHN*J***XX*1122334455~REF*1G*U12345~LX*1~SV2*0305*HC:85025*13.39*UN*1~DTP*472*D8*20050315~LX*2~SV2*0730*HC:93010*76.56*UN*3~DTP*472*D8*20050315~HL*3*1*22*0~SBR*P*18*******CH~NM1*IL*1*SMITH*JOE****MI*123405074~N3*5 MAIN STREET~N4*ANYWHERE*PA*17111~DMG*D8*19621210*M~NM1*PR*2*TRICARE*****PI*99999~CLM*756049Q*50***13:A:1**C*Y*Y~DTP*434*RD8*20050401-20050401~CL1*1**01~HI*BK:30000~NM1*71*1*JONES*JUDY*J***XX*9999999999~PRV*AT*PXC*363LP0200N~LX*1~SV2*0300*HC:85087*50*UN*1~DTP*472*D8*20050401~SE*48*987654~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_20() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-ambulance.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*000017712*005010X291~BHT*0019*00*000017712*20050208*1112*CH~NM1*41*2*AAA AMBULANCE SERVICE*****46*376985369~PER*IC*LISA SMITH*TE*3037752536~NM1*40*2*MEDICARE B*****46*123245~HL*1**20*1~PRV*BI*PXC*3416L0300X~NM1*85*2*AAA AMBULANCE SERVICE*****XX*2366554859~N3*12202 AIRPORT WAY~N4*BROOMFIELD*CO*800210021~REF*EI*376985369~HL*2*1*22*0~SBR*P*18*******MB~NM1*IL*1*JONES*SARAH*A***MI*012345678A~N3*1129 REINDEER ROAD~N4*CARR*CO*80612~DMG*D8*19630729*F~NM1*PR*2*MEDICARE PART B*****PI*123245~N3*PO BOX 3543~N4*BALTIMORE*MD*666013543~CLM*051068*766.50**41:B:1*Y*A*Y*Y*P*OA*******08~DTP*439*D8*20050208~CR1*LB*275**A*DH*21****PATIENT IMOBILIZED~HI*BK:8628*BF:E8888*BF:9592*BF:8540~NM1*PW*2~N3*1129 REINDEER ROAD~N4*CARR*CO*80612~NM1*45*2~N3*10005 BANNOCK ST~N4*CHEYENNE*WY*82009~LX*1~SV1*HC:A0427:RH*700*UN*1***1:2:3:4**Y~QTY*PT*2~REF*6R*1001~NTE*ADD*CARDIAC EMERGENCY~LX*2~SV1*HC:A0425:RH*8.20*UN*21***1:2:3:4**Y~QTY*PT*2~REF*6R*1002~LX*3~SV1*HC:A0422:RH*46*UN*1***1:2:3:4**Y~REF*6R*1003~LX*4~SV1*HC:A0382:RH*12.30*UN*1***1:2:3:4**Y~REF*6R*1004~SE*46*000017712~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_21() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-anesthesia.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0001*005010X291~BHT*0019*00*0123*20050117*1023*CH~NM1*41*2*PROVIDER MEDICAL GROUP*****46*N305~PER*IC*NINA*TE*6155551212*EX*911~NM1*40*2*ABC PAYER*****46*05440~HL*1**20*1~NM1*85*2*PROVIDER MEDICAL GROUP*****XX*2366554859~N3*1234 WEST END AVE~N4*NASHVILLE*TN*37232~REF*EI*756473826~HL*2*1*22*0~SBR*P*18*******MB~NM1*IL*1*JONES*MARGARET****MI*123456789A~N3*123 RAINBOW ROAD~N4*NASHVILLE*TN*37232~DMG*D8*19740303*F~NM1*PR*2*ABC PAYER*****PI*05440~CLM*153829140*827***22:B:1*Y*A*Y*Y**********08~HI*BK:36616~NM1*82*1*TOWNSEND*JACOB*E***XX*5678912345~PRV*PE*PXC*207L00000X~NM1*77*2*PROVIDER OP HOSP*****XX*432198765~N3*345 MAIN DRIVE~N4*NASHVILLE*TN*37232~LX*1~SV1*HC:00142:QK:QS:P1*827*MJ*61***1~SE*27*0001~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_22() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-chiropractic.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*3701*005010X291~BHT*0019*00*007227*20050215*075420*CH~NM1*41*2*DAVID GREEN*****46*S01057~PER*IC*KATHY SMITH*TE*4105558888~NM1*40*2*MEDICARE PART B MARYLAND*****46*12345~HL*1**20*1~NM1*85*1*GREENE*DAVID*M***XX*1234567890~N3*1264 OAKWOOD AVE~N4*BALTIMORE*MD*21236~REF*EI*987654321~PER*IC*DR*TE*4105551212~HL*2*1*22*0~SBR*P*18*******MB~NM1*IL*1*WILLIAMSON*MATTHEW*J***MI*123456789A~N3*128 BROADCREEK~N4*BALTIMORE*MD*21234~DMG*D8*19250110*M~NM1*PR*2*MEDICARE PART B MARYLAND*****PI*C12345~CLM*125WILL*145.5***11:B:1*Y*A*Y*Y**********08~DTP*454*D8*20050115~DTP*453*D8*20050110~DTP*455*D8*20050113~CR2********A**CHRONIC PAIN AND DISCOMFORT~HI*BK:7215~LX*1~SV1*HC:98940*145.5*UN*1***1~REF*6R*01~SE*28*3701~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_23() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-commercial-health-insurance.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0021*005010X291~BHT*0019*00*244579*20061015*1023*CH~NM1*41*2*PREMIER BILLING SERVICE*****46*TGJ23~PER*IC*JERRY*TE*3055552222*EX*231~NM1*40*2*KEY INSURANCE COMPANY*****46*66783JJT~HL*1**20*1~PRV*BI*PXC*203BF0100Y~NM1*85*2*BEN KILDARE SERVICE*****XX*9876543210~N3*234 SEAWAY ST~N4*MIAMI*FL*33111~REF*EI*587654321~NM1*87*2~N3*2345 OCEAN BLVD~N4*MAIMI*FL*33111~HL*2*1*22*1~SBR*P**2222-SJ******CI~NM1*IL*1*SMITH*JANE****MI*JS00111223333~NM1*PR*2*KEY INSURANCE COMPANY*****PI*999996666~REF*G2*KA6663~HL*3*2*23*0~PAT*19~NM1*QC*1*SMITH*TED~N3*236 N MAIN ST~N4*MIAMI*FL*33413~DMG*D8*19730501*M~CLM*26463774*45***11:B:1*Y*A*Y*I**********08~REF*D9*17312345600006351~HI*BK:0340*BF:V7389~LX*1~SV1*HC:99214*35*UN*1***2~LX*2~SV1*HC:86663*10*UN*1***2~SE*33*0021~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_24() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-drug-administered-in-the-physician-office.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0711*005010X291~BHT*0019*00*0013*20040801*1200*CH~NM1*41*2*Associates in Medicine*****46*587654321~PER*IC*Bud Holly*TE*8017268899~NM1*40*2*XYZ Receiver*****46*369852758~HL*1**20*1~NM1*85*2*Associates in Medicine*****XX*1234567893~N3*1313 Las Vegas Boulevard~N4*Las Vegas*NV*89109~REF*EI*587654321~HL*2*1*22*0~SBR*P*18*GRP01020102******CI~NM1*IL*1*Vaughn*Steve*R***MI*MBRID12345~N3*236 Diamond ST~N4*Las Vegas*NV*89109~DMG*D8*19430501*M~NM1*PR*2*R&R Health Plan*****XV*PLANID12345~CLM*CLMNO12345*103.37***11:B:1*Y*A*Y*Y**********08~HI*BK:03591~NM1*82*1*Hendrix*Jim****XX*1122333341~PRV*PE*PXC*208D00000X~LX*1~SV1*HC:90782*50*UN*1*11**1~LX*2~SV1*HC:J1550*53.37*UN*1*11**1~AMT*T*3.37~LIN**N4*00026063512~CTP****10*ML~SE*29*0711~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_25() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-hmo-plan.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0021*005010X291~BHT*0019*00*0123*20061015*1023*CH~NM1*41*2*PREMIER BILLING SERVICE*****46*TGJ23~PER*IC*JERRY*TE*3055552222*EX*231~NM1*40*2*AHLIC*****46*66783JJT~HL*1**20*1~PRV*BI*PXC*203BF0100Y~NM1*85*2*KILDARE*BEN****XX*9876543210~N3*234 SEAWAY ST~N4*MIAMI*FL*33111~REF*EI*587654321~NM1*87*2~N3*2345 OCEAN BLVD~N4*MIAMI*FL*33111~HL*2*1*22*0~SBR*P*18*12312-A******HM~NM1*IL*1*SMITH*TED****MI*00221111~N3*236 N MAIN ST~N4*MIAMI*FL*33413~DMG*D8*19430501*M~NM1*PR*2*ALLIANCE HEALTH AND LIFE INSURANCE*****PI*741234~CLM*26462967*45***11:B:1*Y*A*Y*I**********08~DTP*431*D8*19981003~REF*D9*17312345600006351~HI*BK:0340*BF:V7389~NM1*77*2*KILDARE ASSOCIATES*****XX*5812345679~N3*2345 OCEAN BLVD~N4*MIAMI*FL*33111~LX*1~SV1*HC:99214*35*UN*1***2~LX*2~SV1*HC:86663*10*UN*1***2~SE*33*0021~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_26() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X291-home-infusion-therapy-pharmacy-adjudicated-with-HCPCS-in-loop-2400-or-NDC-in-loop-2410.edi
    let str = r#"ISA*00*          *00*          *ZZ*123456789012345*ZZ*123456789012346*061015*1705*>*00501*000010216*0*T*:~GS*HC*1234567890*9876543210*20061015*1705*20213*X*005010X291~ST*837*0711*005010X291~BHT*0019*00*0013*20040301*1200*CH~NM1*41*2*Quality Billing Service Corporation*****46*587654321~PER*IC*Bud Holly*TE*8017268899~NM1*40*2*XYZ Receiver*****46*369852758~HL*1**20*1~NM1*85*2*Professional Home IV, LLC*****XX*1234567893~N3*1500 Industrial Drive~N4*Libertyville*IL*60048~REF*EI*10-1234567~PER*IC*Brenda Holly*TE*8019999999~HL*2*1*22*0~SBR*P*18*GRP01020102******CI~NM1*IL*1*Smith*Steve*A***MI*MBRID01234~N3*15210 Juliet Lane~N4*Libertyville*IL*60048~DMG*D8*19430501*M~NM1*PR*2*R&R Health Plan*****XV*PLANID12345~CLM*CLMNO12345*2232.93***12:B:1*Y*A*Y*Y**********08~HI*BK:4659~LX*1~SV1*HC:S9500*1400.00*UN*7*12**1~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*2~SV1*HC:J0696*682.50*UN*56*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*00004196501~CTP****7*UN~REF*XZ*2530001~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*3~SV1*HC:J7051*15.12*UN*28*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*63323024910~CTP****14*UN~REF*XZ*2530001~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*4~SV1*HC:J3490:::::Sod Chl 0.9%see NDC#*67.69*UN*7*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*00338004938~CTP****7*UN~REF*XZ*2530001~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*5~SV1*HC:J3490:::::Sod Chl 0.9% see NDC#*57.12*UN*14*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*08290033010~CTP****14*UN~REF*XZ*2530002~NM1*DK*1*Welby*Marcus****XX*1112223338~LX*6~SV1*HC:J3490:::::Hep Lock see NDC#*10.50*UN*7*12**1~DTP*472*RD8*20040201-20040207~DTP*471*D8*20040130~LIN**N4*08290038005~CTP****7*UN~REF*XZ*2530003~NM1*DK*1*Welby*Marcus****XX*1112223338~SE*64*0711~GE*1*20213~IEA*1*000010216~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}

#[test]
fn parse_837_27() {
    //source: https://github.com/dwai1714/edi_parser/blob/main/spike/data_based_on_type/837P/X298-pacdr-professional-external-example.edi
    let str = r#"ISA*00*          *00*          *33*123456789123456*30*987654321987654*160101*0001*>*00501*012345678*0*T*:~GS*HC*123*456*20160101*0001*123456789*X*005010X298~ST*837*0021*005010X298~BHT*0019*00*244579*20120315*1023*RP~NM1*41*2*ABC PLAN*****46*TGJ23~PER*IC*IT GROUP*TE*3055552222*EX*231~NM1*40*2*REPORTING ENTITY*****46*66783JJT~HL*1**20*1~PRV*BI*PXC*207Q00000X~NM1*85*2*PHYSICIAN CLINIC*****XX*9876543210~N3*234 SEAWAY ST~N4*MIAMI*FL*33111~REF*EI*587654321~HL*2*1*22*1~SBR*N~NM1*IL*1*SMITH*JANE****MI*JS00111223333~N3*236 N MAIN ST~N4*MIAMI*FL*33413~DMG*D8*19430501*F~NM1*ZD*2*DATA RECEIVER~HL*3*2*23*0~PAT*19~NM1*QC*1*SMITH*TED****MI*JS00111224444~N3*236 N MAIN ST~N4*MIAMI*FL*33413~DMG*D8*19730501*M~CLM*26463774*100***11:B:1~REF*F8*20121092600001~HI*ABK:M25375*ABF:M19072~NM1*82*1*JONES*BARNABY****XX*1234567890~NM1*77*2*PHYSICIAN CLINIC*****XX*9876543210~N3*234 SEAWAY ST~N4*MIAMI*FL*33111~SBR*P*19*2222-SJ***6***CI~AMT*D*75~NM1*IL*1*SMITH*JANE****MI*JS00111223333~N3*236 N MAIN ST~N4*MIAMI*FL*33413~NM1*PR*2*ABC PLAN*****PI*59999~DTP*573*D8*20120314~REF*F8*20121092600001~NM1*QC*1*SMITH*TED****MI*JS00111224444~N3*236 N MAIN ST~N4*MIAMI*FL*33413~LX*1~SV1*HC:99213*100*UN*1*11**1**Y**Y*Y~DTP*472*D8*20120204~SVD*59999*75*HC:99213**1~CAS*CO*45*25~DTP*573*D8*20120314~SE*49*0021~GE*1*123456789~IEA*1*012345678~"#;
    let (rest, obj) = Transmission::<_837>::parse(str).unwrap();
    println!("{rest}");
    println!("{obj:?}");
}
